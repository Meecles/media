{% extends "/modules/base.html" %}
{% block title %}Settings{% endblock %}
{% block top_scripts %}
<script type="text/javascript" src="/assets/js/unveil.js"></script>
{% endblock %}
{% block style %}
<style>
    .center-img {
        max-width: 140px;
        max-height: 320px;
        margin-left: auto;
        margin-right: auto;
        display: block;
    }

    .center-txt {
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }

    .sq {
        border-radius: 0;
    }

    .set {
        margin-top: 15px;
        margin-bottom: 5px;
    }
</style>
{% endblock %}
{% block modals %}
{% include "modals/content_settings/add_episode.html" %}
{% include "modals/content_settings/edit_episode.html" %}
{% endblock %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-2">
            <a href="/settings/videos/show/{{ show._id }}"><img src="/assets/img/icon-back.png"
                                                                style="cursor:pointer;width:30px;height:30px;z-index: 1;"/></a>
        </div>
        <div class="col-5"><h4 id="show-name-title" style="text-align: right;">Edit - {{ show.name }}</h4></div>
        <div class="col-1"></div>
        <div class="col-4">
            <input id="search-episodes" type="text" class="form-control" onkeyup="search()"
                   placeholder="Search..."/>
        </div>
    </div>
    <hr/>
</div>

<div class="container">
    <div class="row">
        <div class="col-5">

            <div class="card">
                <div class="card-body">
                    <div class="row" style="margin-bottom: -5px;">
                        <div class="col-6">
                            <h5 class="card-title">Season {{ season.season }}</h5>
                        </div>
                        <div class="col-6">
                            <button id="edit-generic-btn" type="button"
                                    class="btn btn-sm btn-outline-light sq float-right"
                                    onclick="enable_editing()">Edit
                            </button>
                            <button id="save-generic-btn" type="button"
                                    class="btn btn-sm btn-outline-success sq float-right"
                                    onclick="save_editing()">Save
                            </button>
                            <button id="cancel-generic-btn" type="button"
                                    class="btn btn-sm btn-outline-danger sq float-right"
                                    onclick="cancel_edit()" style="margin-right: 10px;">Cancel
                            </button>
                        </div>
                    </div>
                    <hr/>
                    <div class="row set">
                        <div class="col-4">
                            <b>Name:</b>
                        </div>
                        <div class="col-8">
                            <input id="edit-name" type="text" class="form-control sq float-right" placeholder="Name">
                        </div>
                    </div>
                    <div class="row set">
                        <div class="col-4">
                            <b>Alt Thumb:</b>
                        </div>
                        <div class="col-8">
                            <input id="edit-thumb" type="text" class="form-control sq float-right"
                                   placeholder="Thumbnail">
                        </div>
                    </div>
                    <div class="row set">
                        <div class="col-4">
                            <b>Base Path:</b>
                        </div>
                        <div class="col-8">
                            <input id="edit-base-path" type="text" class="form-control sq float-right"
                                   placeholder="Base Path">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-7">
            <div class="card">
                <div class="card-body">
                    <div class="row" style="margin-bottom: -5px;">
                        <div class="col-6">
                            <h5 class="card-title">Episodes</h5>
                        </div>
                        <div class="col-6">
                            <button id="add-season-btn" type="button" class="btn btn-sm btn-outline-light sq float-right"
                                    onclick="open_add_episode()">Add Episode
                            </button>
                        </div>
                    </div>
                    <hr/>
                    <div id="episode-list">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
{% block bottom_scripts %}
<script type="text/javascript">
    const _show_id = "{{ show._id }}"
    const _season_id = "{{ season.id }}"
    const _season_num = "{{ season.season }}"
</script>
<script src="/assets/js/edit-episode.js" type="text/javascript"></script>
{% endblock %}
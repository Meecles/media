{% extends "/modules/base.html" %}
{% block title %}Settings{% endblock %}
{% block top_scripts %}
<script type="text/javascript" src="/assets/js/unveil.js"></script>
{% endblock %}
{% block style %}
<style>
    .divider {
        border-right: 1px solid #333;
        border-left: 1px solid #333;
    }

    .sq {
        border-radius: 0;
    }
</style>
{% endblock %}
{% block modals %}
{% include "modals/content_settings/edit_movie.html" %}
{% include "modals/content_settings/add_movie.html" %}
{% include "modals/content_settings/add_show.html" %}
{% endblock %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-2">
            <a href="/settings"><img src="/assets/img/icon-back.png"
                                     style="cursor:pointer;width:30px;height:30px;z-index: 1;"/></a>
        </div>
        <div class="col-5"><h3 style="text-align: right;">Settings - Content</h3></div>
        <div class="col-1"></div>
        <div class="col-4">
            <input id="generic-search" type="text" class="form-control" placeholder="Search..." onkeyup="search()">
        </div>
    </div>
    <hr/>
</div>

<div class="row">
    <div class="col-5">
        <h4 style="text-align: center;">Movies</h4>
        <p id="movie-count" style="text-align: center;margin-bottom: 5px;margin-top: -3px;font-size: 10pt;"></p>
        <div id="movie-list" style="margin-left: 10px;"></div>
    </div>
    <div class="col-2 divider">
        <button type="button" class="btn btn-outline-light" style="border-radius: 0;width: 100%;"
                onclick="open_add_movie()">Add Movie
        </button>
        <button type="button" class="btn btn-outline-light" style="border-radius: 0;width: 100%;margin-top: 15px;"
                onclick="open_add_show()">Add TV
            Show
        </button>
    </div>
    <div class="col-5">
        <h4 style="text-align: center;">TV Shows</h4>
        <p id="show-count" style="text-align: center;margin-bottom: 5px;margin-top: -3px;font-size: 10pt;"></p>
        <div id="show-list" style="margin-right: 10px;"></div>
    </div>
</div>

{% endblock %}
{% block bottom_scripts %}
<script type="text/javascript">
    function goto(loc) {
        window.location.href = loc;
    }
</script>
<script src="/assets/js/settings-movies.js" type="text/javascript"></script>
<script src="/assets/js/settings-shows.js" type="text/javascript"></script>
<script type="text/javascript">
    function search() {
        let value = $("#generic-search").val()
        list_movies(value)
        list_shows(value)
    }

    $(document).ready(function () {
        load_movies()
        load_shows()
    })
</script>
{% endblock %}